{% load crispy_forms_tags %}

<div hx-target="this" hx-swap='outerHTML'>

    <form method="post">
        {% csrf_token %}
        {{ form|crispy }}
        
        {% if kata %}
        <button type="submit" hx-post="{% url 'katas:update_hx' kata.slug %}" class="btn btn-primary">
            Submit
        </button>
        <button class="btn btn-success" hx-get="{% url 'katas:detail_hx' kata.slug %}">
            Cancel
        </button>
        {% else %}
        <button class="btn btn-primary" hx-post=".">
            Submit
        </button>
        {% endif %}
    </form> 

</div>
