{% load crispy_forms_tags %}

<div hx-target="this" hx-swap='outerHTML'>

    <form method="post">
        {% csrf_token %}
        {{ form|crispy }}
        
        {% if kata %}
        <div class='m-3'>
            <button type="submit" hx-post="{% url 'katas:update_hx' kata.slug %}" class="btn btn-danger">
                Save
            </button>
            <button class="btn btn-secondary" hx-get="{% url 'katas:detail_hx' kata.slug %}">
                Cancel
            </button>
        </div>
        {% else %}
        <button class="btn btn-danger m-3" hx-post=".">
            Submit
        </button>
        {% endif %}
    </form> 

</div>
